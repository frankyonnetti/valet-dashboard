{"version":3,"file":"scripts.js","sources":["scripts.js"],"sourcesContent":["function ready () {\r\n  const localStorage = window.localStorage\r\n  // Add class when JS is loaded.\r\n  const htmlTag = document.querySelector('html')\r\n  htmlTag.classList.add('js-loaded')\r\n\r\n  const newValetLinks = document.querySelector('.valetlinks-container')\r\n  const valetLinks = newValetLinks.innerHTML\r\n\r\n  // ! Unique \"data\" attribute\r\n  // --------------------------------------------------------------------------\r\n  const hostRow = newValetLinks.children\r\n\r\n  for (let hostCount = 0; hostCount < hostRow.length; hostCount++) {\r\n    // add a unique \"data\" attribute to each row\r\n    const hostSite = hostRow[hostCount].children.item(1).innerText.replace(/\\./g, '_')\r\n    hostRow[hostCount].setAttribute('data-host', hostSite)\r\n  }\r\n\r\n  // ! trim down technology version output to get just the version number.\r\n  // --------------------------------------------------------------------------\r\n  // valet\r\n  const valetVersion = document.querySelector('.valet-version')\r\n  // remove \"Laravel Valet\" from server version output\r\n  const getValetVersion = valetVersion.innerHTML.replace('Laravel Valet ', '')\r\n  valetVersion.innerHTML = getValetVersion\r\n  // dnsmasq\r\n  const dnsmasqVersion = document.querySelector('.dnsmasq .tech-info')\r\n  if (dnsmasqVersion !== null) {\r\n    // get substring between two words\r\n    const getDnsmasqVersion = dnsmasqVersion.innerHTML.split('Dnsmasq version ').pop().split('  Copyright')[0]\r\n    dnsmasqVersion.innerHTML = getDnsmasqVersion\r\n  }\r\n  // mariadb\r\n  const mariadbVersion = document.querySelector('.mariadb .tech-info')\r\n  if (mariadbVersion !== null) {\r\n    // get substring between two words\r\n    const getMariadbVersion = mariadbVersion.innerHTML.split('Distrib ').pop().split('-MariaDB')[0]\r\n    mariadbVersion.innerHTML = getMariadbVersion\r\n  }\r\n  // nginx\r\n  const nginxVersion = document.querySelector('.nginx .tech-info')\r\n  if (nginxVersion !== null) {\r\n    // get the first set of floating numbers\r\n    const getNginxVersion = nginxVersion.innerHTML.replace('nginx version: nginx/', '')\r\n    nginxVersion.innerHTML = getNginxVersion\r\n  }\r\n  // phpmyadmin\r\n  const phpmyadminPath = document.querySelector('[data-host=\"phpmyadmin\"] .path em')\r\n  if (phpmyadminPath !== null) {\r\n    const phpmyadminURL = document.querySelector('[data-host=\"phpmyadmin\"] .url a')\r\n    const phpmyadminLink = document.querySelector('.phpmyadmin .tech-label a')\r\n    const phpmyadminVersion = document.querySelector('.phpmyadmin .tech-info')\r\n    const getPHPmyadminPath = phpmyadminPath.innerHTML.split('/')\r\n    document.querySelector('.phpmyadmin').removeAttribute('style')\r\n    phpmyadminLink.setAttribute('href', phpmyadminURL)\r\n    phpmyadminVersion.innerHTML = getPHPmyadminPath[getPHPmyadminPath.length - 3]\r\n  }\r\n\r\n  // ! show local path on hover\r\n  // --------------------------------------------------------------------------\r\n  const localPathSpan = document.querySelectorAll('.valetlinks-container .col span')\r\n\r\n  function changeOnOver () {\r\n    this.classList.add('show-path')\r\n  }\r\n\r\n  function changeOnOut () {\r\n    const tooltip = this\r\n    tooltip.classList.remove('show-path')\r\n    tooltip.classList.add('fade')\r\n    setTimeout(function () {\r\n      tooltip.classList.remove('fade')\r\n    }, 300)\r\n  }\r\n\r\n  function copyPath () {\r\n    const element = this\r\n    const path = element.innerText\r\n    navigator.clipboard.writeText(path)\r\n    element.innerHTML = '<em>Copied!</em>'\r\n    setTimeout(function () {\r\n      element.innerHTML = '<em>' + path + '</em>'\r\n    }, 5e2)\r\n  }\r\n\r\n  localPathSpan.forEach(path => path.addEventListener('mouseover', changeOnOver))\r\n  localPathSpan.forEach(path => path.addEventListener('mouseout', changeOnOut))\r\n  localPathSpan.forEach(path => path.addEventListener('click', copyPath))\r\n\r\n  // ! sortable\r\n  // --------------------------------------------------------------------------\r\n  const valetSortEl = document.getElementById('valetSort')\r\n  const clearSortModalBtnContainer = document.querySelector('.sortable-container')\r\n  const clearSortModalBtn = document.querySelector('.openmodal-reset')\r\n  const clearSortBtn = document.querySelector('.clearsort')\r\n\r\n  const sortable = Sortable.create(valetSortEl, { // eslint-disable-line\r\n    store: {\r\n      // Get the order of elements. Called once during initialization.\r\n      get: function (sortable) {\r\n        const order = localStorage.getItem(sortable.options.group.name)\r\n        return order ? order.split('|') : []\r\n      },\r\n\r\n      // Save the order of elements. Called onEnd (when the item is dropped).\r\n      set: function (sortable) {\r\n        const order = sortable.toArray()\r\n        localStorage.setItem(sortable.options.group.name, order.join('|'))\r\n        clearSortModalBtnContainer.classList.remove('disabled')\r\n        clearSortModalBtn.removeAttribute('disabled')\r\n      }\r\n    },\r\n    group: 'hostslist',\r\n    forceFallback: true,\r\n    handle: '.grip',\r\n    animation: 150,\r\n    ghostClass: 'ghost-class'\r\n  })\r\n\r\n  // Set button to disabled if no sort is set in localStorage\r\n  function disableSortButton () {\r\n    if (localStorage.getItem('hostslist') === null) {\r\n      clearSortModalBtnContainer.classList.add('disabled')\r\n      clearSortModalBtn.setAttribute('disabled', true)\r\n    }\r\n  }\r\n  disableSortButton()\r\n\r\n  function clearSortStorage () {\r\n    delete localStorage.hostslist\r\n    newValetLinks.innerHTML = valetLinks // reload host list\r\n    disableSortButton()\r\n    closeModal()\r\n  }\r\n  // Clear list localStorage button\r\n  clearSortBtn.onclick = clearSortStorage\r\n\r\n  // ! modal\r\n  // --------------------------------------------------------------------------\r\n  // buttons to open \"modal\" from sidebar\r\n  const openModalResetBtn = document.querySelector('.openmodal-reset')\r\n  // modal container\r\n  const modal = document.querySelector('.modal')\r\n  const modalBg = document.querySelector('.modal-bg')\r\n  const closeSortModalBtn = document.querySelector('.cancelsort')\r\n\r\n  // Open modal(s)\r\n  function openModalReset () {\r\n    modal.classList.add('open', 'reset-list')\r\n    modalBg.classList.add('open')\r\n  }\r\n  openModalResetBtn.onclick = openModalReset\r\n\r\n  // Close modal(s)\r\n  function closeModal () {\r\n    modal.classList.add('closing')\r\n    modalBg.classList.add('closing')\r\n    setTimeout(function () {\r\n      modal.classList.remove('open', 'closing', 'reset-list')\r\n      modalBg.classList.remove('open', 'closing')\r\n    }, 1000)\r\n  }\r\n  closeSortModalBtn.onclick = closeModal\r\n  modalBg.onclick = closeModal\r\n\r\n  document.addEventListener('keyup', event => {\r\n    if (event.key === 'Escape') {\r\n      if (modal.classList.contains('open')) {\r\n        closeModal()\r\n      }\r\n    }\r\n  })\r\n\r\n  // Filter\r\n  // --------------------------------------------------------------------------\r\n  document.getElementById('filter-input').addEventListener('keyup', function () {\r\n    const searchFilter = this.value.toLowerCase()\r\n    const row = document.querySelectorAll('.valetlinks-container .row')\r\n\r\n    for (const host of row) {\r\n      const item = host.getAttribute('data-host').toLowerCase()\r\n      if (item.indexOf(searchFilter) === -1) {\r\n        host.classList.add('hide')\r\n      } else {\r\n        host.classList.remove('hide')\r\n      }\r\n    }\r\n  })\r\n\r\n  // Bring search filed to focus on page load\r\n  const focusSwitch = document.getElementById('focus-quick-find-switch')\r\n\r\n  if (localStorage.getItem('focusToggle') === null) {\r\n    localStorage.setItem('focusToggle', 'false')\r\n    focusSwitch.classList.add('off')\r\n  } else\r\n  if (localStorage.getItem('focusToggle') === 'false') {\r\n    focusSwitch.classList.add('off')\r\n  } else {\r\n    focusSwitch.classList.add('on')\r\n    document.querySelector('#filter-input').focus()\r\n  }\r\n\r\n  focusSwitch.addEventListener('click', event => {\r\n    if (localStorage.getItem('focusToggle') !== null) {\r\n      if (localStorage.getItem('focusToggle') === 'false') {\r\n        focusSwitch.classList.remove('off')\r\n        focusSwitch.classList.add('on')\r\n        localStorage.setItem('focusToggle', 'true')\r\n        document.querySelector('#filter-input').focus()\r\n      } else {\r\n        focusSwitch.classList.remove('on')\r\n        focusSwitch.classList.add('off')\r\n        localStorage.setItem('focusToggle', 'false')\r\n      }\r\n    }\r\n  })\r\n\r\n  // ! light or dark mode\r\n  // --------------------------------------------------------------------------\r\n  const conatiners = document.querySelectorAll('.color-mode')\r\n  const darkModeSwitch = document.getElementById('dark-mode-switch')\r\n\r\n  // set initial localStorage and body class if none found,\r\n  // or load class if found in localStorage\r\n  if (localStorage.getItem('themeMode') === null) {\r\n    localStorage.setItem('themeMode', 'light')\r\n    darkModeSwitch.classList.add('off')\r\n    conatiners.forEach(mode => mode.classList.add('light-mode'))\r\n  } else\r\n  if (localStorage.getItem('themeMode') === 'light') {\r\n    darkModeSwitch.classList.add('off')\r\n    conatiners.forEach(mode => mode.classList.add('light-mode'))\r\n  } else {\r\n    darkModeSwitch.classList.add('on')\r\n    conatiners.forEach(mode => mode.classList.add('dark-mode'))\r\n  }\r\n\r\n  // switch between light and dark mode\r\n  darkModeSwitch.addEventListener('click', event => {\r\n    if (localStorage.getItem('themeMode') !== null) {\r\n      if (localStorage.getItem('themeMode') === 'light') {\r\n        darkModeSwitch.classList.remove('off')\r\n        darkModeSwitch.classList.add('on')\r\n        localStorage.setItem('themeMode', 'dark')\r\n        conatiners.forEach(mode => mode.classList.remove('light-mode'))\r\n        conatiners.forEach(mode => mode.classList.add('dark-mode'))\r\n      } else {\r\n        darkModeSwitch.classList.remove('on')\r\n        darkModeSwitch.classList.add('off')\r\n        localStorage.setItem('themeMode', 'light')\r\n        conatiners.forEach(mode => mode.classList.remove('dark-mode'))\r\n        conatiners.forEach(mode => mode.classList.add('light-mode'))\r\n      }\r\n    }\r\n  })\r\n\r\n  // ! color picker\r\n  // --------------------------------------------------------------------------\r\n  // \"active-color\" is set on color input 'name' attribute\r\n  const colorInput = document.getElementById('color-picker')\r\n\r\n  // set initial localStorage for active-color,\r\n  // or load active-color found in localStorage\r\n  if (localStorage.getItem('activeColor') === null) {\r\n    localStorage.setItem('activeColor', '#ba68c8')\r\n    const getActiveColor = localStorage.getItem('activeColor')\r\n    document.documentElement.setAttribute('style', '--active-color:' + getActiveColor + ';')\r\n    colorInput.setAttribute('value', getActiveColor)\r\n  } else {\r\n    const getActiveColor = localStorage.getItem('activeColor')\r\n    document.documentElement.setAttribute('style', '--active-color:' + getActiveColor + ';')\r\n    colorInput.setAttribute('value', getActiveColor)\r\n  }\r\n\r\n  // change active-color\r\n  function handleColorUpdate () {\r\n    document.documentElement.style.setProperty(`--${this.name}`, this.value)\r\n    localStorage.setItem('activeColor', colorInput.value)\r\n  }\r\n\r\n  colorInput.addEventListener('change', handleColorUpdate)\r\n  colorInput.addEventListener('mousemove', handleColorUpdate)\r\n}\r\ndocument.addEventListener('DOMContentLoaded', ready)\r\n"],"names":["ready","localStorage","window","htmlTag","document","querySelector","classList","add","newValetLinks","valetLinks","innerHTML","hostRow","children","hostCount","length","hostSite","item","innerText","replace","setAttribute","valetVersion","getMariadbVersion","getValetVersion","dnsmasqVersion","getDnsmasqVersion","split","pop","mariadbVersion","nginxVersion","getNginxVersion","phpmyadminPath","phpmyadminURL","phpmyadminLink","phpmyadminVersion","getPHPmyadminPath","removeAttribute","localPathSpan","querySelectorAll","changeOnOver","this","changeOnOut","tooltip","remove","setTimeout","copyPath","element","path","navigator","clipboard","writeText","forEach","addEventListener","valetSortEl","getElementById","clearSortModalBtnContainer","clearSortModalBtn","clearSortBtn","getActiveColor","Sortable","create","store","get","sortable","order","getItem","options","group","name","set","toArray","setItem","join","forceFallback","handle","animation","ghostClass","disableSortButton","onclick","hostslist","closeModal","openModalResetBtn","modal","modalBg","closeSortModalBtn","event","key","contains","searchFilter","value","toLowerCase","host","getAttribute","indexOf","focusSwitch","focus","conatiners","darkModeSwitch","mode","colorInput","handleColorUpdate","documentElement","style","setProperty"],"mappings":"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"}